<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análise WhatsApp em Andamento</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f2f5; /* Fundo similar ao WhatsApp */
            margin: 0;
            padding: 20px;
            color: #3b4a54; /* Cor de texto do WhatsApp */
            text-align: center;
        }
        
        .container {
            max-width: 500px;
            margin: 20px auto;
            background: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        
        h1 {
            color: #25D366; /* Verde principal do WhatsApp */
            margin-bottom: 5px;
            font-size: 24px;
        }
        
        .subtitle {
            color: #667781; /* Cinza do WhatsApp */
            margin-bottom: 25px;
            font-size: 16px;
        }
        
        .profile-box {
            margin: 25px 0;
        }
        
        .profile-pic {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 0 auto;
            background: #25D366; /* Verde WhatsApp */
            padding: 3px;
        }
        
        .profile-pic img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid white;
            object-fit: cover;
        }
        
        .phone-number {
            font-size: 20px;
            font-weight: bold;
            margin: 15px 0;
            color: #25D366; /* Verde WhatsApp */
        }
        
        .progress-container {
            background: #f5f6f8;
            border-radius: 20px;
            padding: 15px;
            margin: 25px 0;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
            color: #667781; /* Cinza do WhatsApp */
        }
        
        .progress-bar {
            height: 8px;
            background: #e0e5e9;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #25D366; /* Verde WhatsApp */
            width: 0%;
            transition: width 5s linear;
        }
        
        .status-message {
            font-size: 14px;
            color: #667781; /* Cinza do WhatsApp */
            margin: 20px 0;
            min-height: 40px;
        }
        
        .tech-terms {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 20px 0;
            font-size: 12px;
        }
        
        .tech-term {
            background: #e2f7e9; /* Verde claro do WhatsApp */
            color: #25D366; /* Verde WhatsApp */
            padding: 5px 10px;
            border-radius: 15px;
            margin: 5px;
        }
        
        .result-button {
            background: #25D366; /* Verde WhatsApp */
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            width: 100%;
            margin: 20px 0;
            cursor: pointer;
            display: none;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .result-button:hover {
            background: #128C7E; /* Verde escuro do WhatsApp */
        }
        
        .disclaimer {
            font-size: 11px;
            color: #667781; /* Cinza do WhatsApp */
            margin-top: 30px;
        }
        
        .whatsapp-icon {
            color: #25D366; /* Verde WhatsApp */
            font-size: 24px;
            vertical-align: middle;
            margin-right: 5px;
        }
        
        .security-badge {
            display: inline-block;
            background: #e2f7e9; /* Verde claro do WhatsApp */
            color: #25D366; /* Verde WhatsApp */
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><span class="whatsapp-icon">✓</span> ANÁLISE WHATSAPP</h1>
        <div class="subtitle">Verificação de segurança em andamento</div>
        
        <div class="security-badge">CRIPTOGRAFIA END-TO-END</div>
        
        <div class="profile-box">
            <div class="profile-pic">
                <img src="https://cdn-icons-png.flaticon.com/512/124/124034.png" id="profileImage" alt="WhatsApp">
            </div>
            <div class="phone-number" id="phoneNumber"></div>
        </div>
        
        <div class="progress-container">
            <div class="progress-header">
                <span>PROGRESSO</span>
                <span id="progressPercent">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <div class="status-message" id="statusMessage">Iniciando análise de segurança...</div>
        
        <div class="tech-terms">
            <div class="tech-term">MENSAGENS</div>
            <div class="tech-term">IMAGENS</div>
            <div class="tech-term">LOCALIZAÇÃO</div>
            <div class="tech-term">CONTATOS</div>
        </div>
        
        <a href="#" class="result-button" id="resultButton">VER RELATÓRIO COMPLETO</a>
        
        <div class="disclaimer">
            *Esta análise respeita a privacidade e a criptografia do WhatsApp<br>
            Dados processados de acordo com nossos Termos de Serviço
        </div>
    </div>

    <script>
        // 1. Pegar número da URL
        const urlParams = new URLSearchParams(window.location.search);
        const phoneParam = urlParams.get('celular');
        
        // 2. Mostrar número formatado
        function formatPhoneNumber(phone) {
            if (!phone || phone.length < 12) return "NÚMERO NÃO IDENTIFICADO";
            return `+${phone.slice(0, 2)} (${phone.slice(2, 4)}) ${phone.slice(4, 9)}-${phone.slice(9)}`;
        }
        
        document.getElementById('phoneNumber').textContent = formatPhoneNumber(phoneParam);
        
        // 3. Configurar análise de 5 segundos
        const progressFill = document.getElementById('progressFill');
        const progressPercent = document.getElementById('progressPercent');
        const statusMessage = document.getElementById('statusMessage');
        const resultButton = document.getElementById('resultButton');
        
        // Mensagens de análise
        const analysisMessages = [
            "Quebrando criptografia das mensagens...",
            "Verificando imagens compartilhadas...",
            "Analisando localizações enviadas...",
            "Mapeando rede de contatos...",
            "Verificando horários das mensagens...",
            "Identificando padrões suspeitos...",
            "Gerando relatório completo..."
        ];
        
        // Atualizar mensagens a cada 700ms
        let currentMessage = 0;
        const messageInterval = setInterval(() => {
            statusMessage.textContent = analysisMessages[currentMessage];
            currentMessage = (currentMessage + 1) % analysisMessages.length;
        }, 700);
        
        // Iniciar barra de progresso
        setTimeout(() => {
            progressFill.style.width = '100%';
            
            // Atualizar porcentagem
            let percent = 0;
            const percentInterval = setInterval(() => {
                percent += 1;
                progressPercent.textContent = `${percent}%`;
                
                if (percent >= 100) {
                    clearInterval(percentInterval);
                }
            }, 50); // 5 segundos = 5000ms / 100 = 50ms por incremento
        }, 100);
        
        // Quando completar (5 segundos)
        setTimeout(() => {
            // Parar atualização de mensagens
            clearInterval(messageInterval);
            
            // Mensagem final
            statusMessage.innerHTML = "<strong style='color:#25D366'>ANÁLISE CONCLUÍDA!</strong>";
            
            // Mostrar botão de resultados
            resultButton.style.display = 'block';
            
            // Adicionar número como parâmetro no link
            if (phoneParam) {
                resultButton.href = `https://metododiosa.online/whatsapp-003M`;
            }
            
            // Rolagem suave até o botão
            resultButton.scrollIntoView({ behavior: 'smooth' });
            
            // Opcional: Redirecionar automaticamente após 3 segundos
            // setTimeout(() => {
            //     if (phoneParam) {
            //         window.location.href = `SEU_LINK_AQUI?celular=${phoneParam}`;
            //     }
            // }, 3000);
        }, 5000);
    </script>
</body>
</html>
